# Mikron Backend

REST API для социальной платформы Mikron — объединяющей молодежь и профессионалов через менторство, сообщества и образовательные мероприятия.

## Описание

Mikron Backend — это серверная часть платформы, которая предоставляет API для создания профессиональных связей и обмена опытом. Пользователи могут находить менторов в своей области, вступать в тематические сообщества, участвовать в хакатонах и воркшопах, делиться опытом через посты и отслеживать развитие своих компетенций.

## Основные возможности

* Управление профилями пользователей и менторов
* Создание и управление сообществами (по интересам и организациям)
* Организация мероприятий (онлайн/оффлайн)
* Публикация постов с изображениями и взаимодействие через лайки
* Система компетенций для отслеживания профессионального роста
* Каталог навыков, специализаций и образовательных программ
* Связывание пользователей с компаниями, проектами и категориями

## Технологический стек

* **Runtime:** Node.js
* **Framework:** Express.js
* **Database:** PostgreSQL
* **Documentation:** Swagger/OpenAPI
* **Environment:** dotenv

## Архитектура

Проект построен на классической архитектуре MVC с разделением на слои:

### 1. Routes (Маршрутизация)
* Определение эндпоинтов API
* Документация Swagger
* Валидация входных данных

### 2. Controllers (Контроллеры)
* Бизнес-логика приложения
* Обработка запросов и ответов
* Обработка ошибок

### 3. Database Layer (Слой данных)
* Работа с PostgreSQL через pg
* SQL-запросы
* Управление транзакциями

## Структура проекта
```
mikron_back/
├── controllers/      # Контроллеры с бизнес-логикой
├── routes/          # Определение маршрутов API
├── db.js           # Подключение к PostgreSQL
├── swagger.js      # Конфигурация документации API
├── migrate.js      # Скрипты миграций БД
└── index.js        # Точка входа приложения
```

## Установка и запуск

### Требования

* Node.js >= 16.x
* PostgreSQL >= 14.x
* npm или yarn

### Шаги для запуска

1. Клонируйте репозиторий:
```bash
git clone https://github.com/WiwlwiwaW/mikron_back.git
cd mikron_back
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл `.env` в корневой директории:
```env
DATABASE_URL=postgresql://username:password@localhost:5432/mikron_db
PORT=3000
```

4. Создайте базу данных и запустите миграции:
```bash
createdb mikron_db
npm run migrate
```

5. Запустите сервер:
```bash
# Production
npm start

# Development (с автоперезагрузкой)
npm run dev
```

Сервер запустится на `http://localhost:3000`

## API Документация

Интерактивная документация Swagger доступна по адресу:
```
http://localhost:3000/api-docs
```

В Swagger UI можно просмотреть все эндпоинты, структуру данных и протестировать API напрямую из браузера.

### Production API

Документация production API: https://mikron-back.onrender.com/api-docs/

## База данных

### Основные сущности

* **users** — пользователи платформы
* **mentors** — профили менторов
* **communities** — сообщества по интересам и организации
* **events** — мероприятия (хакатоны, воркшопы, конференции)
* **posts** — публикации пользователей
* **likes** — взаимодействие с контентом
* **competence_to_user** — отслеживание компетенций (решение задач, программирование, логика, коммуникация и др.)

### Справочники

* **categories** — категории интересов
* **skills** — навыки
* **specializations** — профессиональные специализации
* **educations** — образовательные программы
* **companies** — компании
* **roles** — роли в сообществах

Визуальная схема базы данных: `db_view.png`

## Разработка

### Проверка качества кода
```bash
npm run lint
```

### Тестирование API

Используйте Swagger UI или Postman для тестирования эндпоинтов.

Импорт в Postman: `http://localhost:3000/api-docs/swagger.json`

## Контакты

**Разработчик:** Илья

GitHub: https://github.com/WiwlwiwaW

## Лицензия

ISC